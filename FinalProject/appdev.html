<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APPDEV 2021</title>
</head>
<script>
    function getdata(){
        fetch('http://www.cc.puv.fi/~e2002009/assignments/2020/ApplicationDevelopment/finalProject/record.txt')
        .then(r => r.text())
        .then(data => dispdata(data));

    function dispdata(d){

        var ctt = document.getElementById("data");

	var can = document.getElementById("chart");
	var ctx = can.getContext('2d');

	ctx.lineWidth = 20;

        var lines = d.split("\n");

	var i = 0;

        while (typeof lines[0] !== "undefined"){
            var line = lines.shift();
            var split = line.split(' ');
            ctt.innerHTML += line+"<br/>";
		ctx.strokeStyle = 'blue';
		ctx.beginPath();
		ctx.moveTo(i*50+10, 400-10);
		ctx.lineTo(i*50+10, 400-10-parseInt(split[2])*3);
		ctx.stroke();
		ctx.strokeStyle = 'red';
		ctx.beginPath();
		ctx.moveTo(i*50+30, 400-10);
		ctx.lineTo(i*50+30, 400-10-parseInt(split[3])*3);
		ctx.stroke();
		i++;
        }
    }    
    }
</script>
<body onload=getdata()>
<p id="data"></p>

<canvas id="chart" height=400 width=1000 style="border:solid 3px green"></canvas>

</body>
</html>
